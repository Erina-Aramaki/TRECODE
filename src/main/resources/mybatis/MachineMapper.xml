<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.app.mapper.MachineMapper">

<!-- 筋トレマシン一覧表示 -->
	<select id="selectMachine" resultType="Machine">
		SELECT * FROM machine
	</select>

<!-- 筋トレ記録全表示 -->
	<select id="selectAll" resultType="MachineSetCount">
		SELECT * FROM machine_set_count
	</select>

<!-- 特定の日の筋トレ記録表示 -->
	<select id="selectDay" resultType="MachineSetCount">
		SELECT machine_set_count.training_id, machine_set_count.user_id, machine_set_count.date, 
			machine_set_count.machine_id, machine.machine_name, machine_set_count.machine_weight,
			machine_set_count.machine_count, machine_set_count.sets
		FROM machine_set_count 
		JOIN machine
		ON machine_set_count.machine_id = machine.machine_id
		WHERE date = #{date} AND user_id = #{userId};
	</select>




<!-- 体重の登録 -->


<!-- BMIの登録 -->


<!-- 筋トレ記録登録 -->
	<insert id="insert" parameterType="MachineSetCount">
		INSERT INTO machine_set_count(training_id, user_id, date, machine_id, machine_weight, machine_count, sets)
			VALUES(#{trainingId}, #{userId}, #{date}, #{machineId}, #{machineWeight}, #{count}, #{sets})
	</insert>



</mapper>